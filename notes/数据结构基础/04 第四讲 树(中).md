# 第四讲 树（中）

树的应用

## 4.1 二叉搜索树

### 4.1.1 二叉搜索树及查找

+ 查找问题
  + 静态查找与动态查找
  + 针对动态查找，数据如何组织
+ 二叉搜索树(BST, Binary Search Tree)，也称二叉排序树或二叉查找树
  + 性质
    + 非空左子树所有键值小于其根节点键值
    + 非空右子树所有键值大于其根节点键值
    + 左右子树都是二叉搜索树
  + 特别函数
    + 查找并返回特定元素所在地址
      + 尾递归可以更改为迭代函数
    + 查找并返回最大元素所在地址
    + 查找并返回最小元素所在地址
    + 插入
    + 删除
  + 查找效率取决于树的高度

### 4.1.2 二叉搜索树的插入

+ 插入之后还是二叉搜索树
+ 详见教材

### 4.1.3 二叉搜索树的删除

+ 要删除的为叶结点
+ 要删除的结点只有一个孩子结点
+ 要删除的结点右左右两棵子树
  + 取右子树中最小元素替代
  + 取左子树中最大元素替代

## 4.2 平衡二叉树

插入顺序会影响二叉搜索树的形态
这会导致不同的深度和不同的平均查找长度(ASL, Average Search Length)

一棵树的ASL值越小，它的结构越好

### 4.2.1 什么是平衡二叉树

+ 平衡二叉树
  + “平衡因子”(BF, Balance Factor): $BF(T)=h_L-h_R$
+ Balanced Binary Tree (AVL树)
+ 对于树中任意一个结点。左右子树高度差的绝对值不超过1，即$|BF(T)|\le 1$
+ 平衡的目的是降低树的高度
+ 设$n_h$是高度为$h$的平衡二叉树的最小结点数
  + $n_h = n_{h-1}+n_{h-2}+1$
  + 给定结点数为$n$的AVL树的最大高度为$O(\log_2n)$

### 4.2.2 平衡二叉树的调整

+ 平衡二叉树的调整
  + RR旋转（右单旋）
    + 破坏者在被破坏者（发现者）的右子树的右子树上，作RR旋转
  + LL旋转（左单旋）
    + 破坏者在被破坏者（发现者）的左子树的左子树上，作LL旋转
  + LR旋转（左右双旋）
  + RL旋转（右左双旋）
